<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit Account Move Form View -->
<!--    <record id="view_move_form_inherit_switchgear_extend" model="ir.ui.view">-->
<!--        <field name="name">account.move.form.inherit.switchgear.custom</field>-->
<!--        <field name="model">account.move</field>-->
<!--        <field name="inherit_id" ref="account.view_move_form"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='payment_reference']" position="after">-->
<!--                <field name="project_id" string="Project/Job"/>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->


    <record id="view_account_move_tree_project_extend" model="ir.ui.view">
        <field name="name">account.move.tree.project.extend</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_invoice_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='invoice_partner_display_name'][2]" position="after">
                <!--             <field name="invoice_partner_display_name" position="after">-->
                <field name="project_id" string="Project/Job"
                       invisible="context.get('default_move_type') not in ('out_invoice', 'out_refund','out_receipt')"
                       groups="base.group_user" optional="hide"/>

            </xpath>
        </field>
    </record>
</odoo>