<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="common_quotation_inherit_signature" inherit_id="professional_templates.SO_common_document">
<!--                        <xpath expr="//t[@t-call='professional_templates.sales_lines_common_template']" position="after">-->
            <xpath expr="//div[@name='Note']" position="before">
                <!--            <xpath expr="//div[@class='article page']" position="inside">-->
                <div  style="page-break-inside: avoid;">
<!--                <div name="warm_regards" class="row oe_mt16"-->
<!--                     attrs="{'invisible': [('doc.digital_sign_sale_order_compute', '=', False)]}">-->
<!--                    <div class="col-12">-->
<!--                        <span t-field="doc.warm_regards"/>-->
<!--                    </div>-->
<!--                </div>-->
                <div name="signature_logo" class="row"
                     attrs="{'invisible': [('doc.digital_sign_sale_order_compute', '=', False)]}">
                    <div class="col-12">
                        <img t-if="doc.digital_signature"
                             t-att-src="'data:image/png;base64,%s' % to_text(doc.digital_signature)"
                             style="height: 1.5cm; max-width: 12cm;min-width:6cm"/>
                        <img t-if="doc.digital_logo" t-att-src="'data:image/png;base64,%s' % to_text(doc.digital_logo)"
                             style="height: 3cm; max-width: 6cm;padding-left:20px;"/>
                    </div>
                </div>

                <div t-if="doc.digital_signature" class="col-3 text-center" style="margin-top:-10px;margin-left:-68px;">
                    <span t-field="doc.user_id.name"/>
                </div>
                </div>

            </xpath>

            <xpath expr="//div[@class='article page']" position="inside">
                <t t-set="signature" t-value="doc.get_signature()"/>
                <div t-if="signature" class="row oe_mt64" name="signature">
                    <div t-if="doc.prepared_by" style="" class="col-4 text-left  position-relative">
                        <div style="float:left" class="w-100 text-left">
                            <img style="width:200px;" t-if="doc.prepared_by.user_signature"
                                 t-att-src="image_data_uri(doc.prepared_by.user_signature)"
                                 alt="Signature"/>

                        </div>
                        <div style="float:left;  bottom:0px" class="w-100 text-left position-absolute ">
                            <strong style="text-decoration:overline;">
                                <span t-field="signature.signature1"/>
                                <b>
                                    <span t-field="doc.prepared_by.name"/>
                                </b>
                            </strong>
                        </div>
                    </div>
                    <div class="col-4 text-center">
                        <strong>
                            <span style="text-decoration:overline" t-field="signature.signature2"/>
                        </strong>
                    </div>
                    <div t-if="doc.approve_by" class="col-4 text-right  position-relative">

                        <div style="float:right" class="w-100">
                            <img style="width:200px;" t-if="doc.approve_by.user_signature"
                                 t-att-src="image_data_uri(doc.approve_by.user_signature)"
                                 alt="Signature"/>

                        </div>
                        <div style="float:right;  bottom:0px" class="w-100 text-center position-absolute ">
                            <strong style="text-decoration:overline;">
                                <span class="border" t-field="signature.signature3"/>
                                <b>
                                    <span class="border" t-field="doc.approve_by.name"/>
                                </b>
                            </strong>
                        </div>
                    </div>
                </div>
            </xpath>

        </template>
    </data>
</odoo>







